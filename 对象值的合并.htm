<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<meta charset="UTF-8">
	<title>对象值的合并</title>
</head>
<body>
	<script type="text/javascript">
		function showBookInfo(   book ){
	    var defaultvalue={
			name:'未知书名',
			pages:0,
			author:'zy'
		};
			book=mergeObject( defaultvalue,book );  //过程调用mergeObject函数，完成将defaultvalue和book的值进行合并到一起的
			document.write( "书的书名是："+book.name+"&nbsp;&nbsp;&nbsp;书的页数是："+book.pages+  "&nbsp;&nbsp;&nbsp;书的作者是："+book.author+"</br>");	
		}
		//合并两个对象的值，如果 realvalue中没有这个属性，则采用defaultvalue中的值，如值果有就用realvalue的
		//返回一个对象
		function mergeObject( defaultvalue,realvalue){
			if(   realvalue  &&   typeof realvalue=='object'   ){
				for(var key in realvalue ){
					defaultvalue[key]=realvalue[key]||defaultvalue[key];
					// if(realvalue[key]){
					// 	defaultvalue[key]=realvalue[key];
					// }else{
					// 	defaultvalue[key]=defaultvalue[key];
					// }
				}
			}
			return defaultvalue;
		}
		var book1={  name:'java深入钱出', pages:500};
		showBookInfo(   book1 );
	
		var book2={name:'js深入钱出'};
		showBookInfo(  book2  );
	
		function showStuInfo(   stu ){
			var defaultvalue={
				name:'未知姓名',
				age:18,
				gerder:1
			};
			stu=mergeObject( defaultvalue,stu);  //过程调用mergeObject函数，完成将defaultvalue和stu的值进行合并到一起的
			document.write("姓名:"+stu.name+  "&nbsp;&nbsp;&nbsp;年龄:"+stu.age+"&nbsp;&nbsp;&nbsp;性别:"+(stu.gerder==1?'男':'女')+"<br/>");
		};
		var stu1={name:'张三'};
		showStuInfo(stu1);
	</script>书的书名是：java深入钱出&nbsp;&nbsp;&nbsp;书的页数是：500&nbsp;&nbsp;&nbsp;书的作者是：zy<br>书的书名是：js深入钱出&nbsp;&nbsp;&nbsp;书的页数是：0&nbsp;&nbsp;&nbsp;书的作者是：zy<br>姓名:张三&nbsp;&nbsp;&nbsp;年龄:18&nbsp;&nbsp;&nbsp;性别:男<br>

</body></html>